<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto & Music Hub</title>
    <style>
       /* Modern Root Variables */
:root {
    --primary: #2c3e50;
    --secondary: #e74c3c;
    --accent: #3498db;
    --success: #2ecc71;
    --warning: #f1c40f;
    --background: #f8f9fa;
    --text: #2c3e50;
    --header-height: 70px;
}

/* Base Reset */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Poppins', sans-serif;
    line-height: 1.6;
    color: var(--text);
    background: var(--background);
}

/* Header & Navigation */
.header {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    background: rgba(255, 255, 255, 0.95);
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    z-index: 1000;
    backdrop-filter: blur(10px);
}

.nav {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
    height: var(--header-height);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.logo {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--primary);
    text-decoration: none;
}

.nav-links {
    display: flex;
    gap: 2rem;
}

.nav-links a {
    color: var(--primary);
    text-decoration: none;
    font-weight: 500;
    transition: color 0.3s ease;
}

.nav-links a:hover {
    color: var(--accent);
}
.hero {
    height: 100px;
    background: linear-gradient(
        135deg,
        #2c3e50,
        #3498db,
        #e74c3c,
        #2980b9
    );
    background-size: 300% 300%;
    color: white;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 1rem;
    margin-top: var(--header-height);
    position: relative;
    overflow: hidden;
    animation: gradientShift 12s ease infinite;
}
.hero h1 {
    font-size: clamp(1.5rem, 3vw, 2.5rem);
    font-weight: 800;
    margin-bottom: 0.3rem;
    opacity: 0;
    transform: translateY(10px);
    animation: titleReveal 1s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.hero p {
    font-size: clamp(0.9rem, 1.2vw, 1.1rem);
    max-width: 700px;
    line-height: 1.3;
    font-weight: 400;
    opacity: 0;
    transform: translateY(10px);
    animation: textReveal 1s cubic-bezier(0.4, 0, 0.2, 1) 0.3s forwards;
}


/* Floating Particles Effect */
.hero::before,
.hero::after {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    background-image:
        radial-gradient(circle at 50% 50%, white 0%, transparent 1%),
        radial-gradient(circle at 30% 70%, white 0%, transparent 1%),
        radial-gradient(circle at 70% 30%, white 0%, transparent 1%);
    background-size: 120px 120px;
    opacity: 0.3;
    animation: particleFloat 15s linear infinite;
}

.hero::after {
    animation-delay: -5s;
    opacity: 0.2;
    filter: blur(2px);
}

/* Text Container with Glow */
.hero-content {
    position: relative;
    z-index: 2;
    filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.2));
}

.hero h1 {
    font-size: clamp(2rem, 4vw, 3.5rem);
    font-weight: 800;
    margin-bottom: 1rem;
    opacity: 0;
    transform: translateY(20px);
    animation: titleReveal 1s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.hero p {
    font-size: clamp(1rem, 1.5vw, 1.3rem);
    max-width: 700px;
    line-height: 1.4;
    font-weight: 400;
    opacity: 0;
    transform: translateY(20px);
    animation: textReveal 1s cubic-bezier(0.4, 0, 0.2, 1) 0.3s forwards;
}
  .explore-btn {
    display: inline-block;
    padding: 0.8em 2em;
    background: transparent;
    color: white;
    font-weight: 600;
    border: 2px solid white;
    border-radius: 30px;
    text-decoration: none;
    transition: all 0.3s ease;
    cursor: pointer;
}

.explore-btn:hover {
    background: white;
    color: var(--primary);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
}

.explore-btn:active {
    transform: translateY(0);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

/* Highlight Words Animation */
.hero h1 span {
    display: inline-block;
    position: relative;
    color: #ffd700;
    animation: sparkle 2s ease-in-out infinite;
}

/* Modern Animations */
@keyframes gradientShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

@keyframes particleFloat {
    0% { transform: translateY(0) translateX(0); }
    100% { transform: translateY(-100px) translateX(100px); }
}

@keyframes titleReveal {
    0% {
        opacity: 0;
        transform: translateY(20px);
    }
    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes textReveal {
    0% {
        opacity: 0;
        transform: translateY(20px);
    }
    100% {
        opacity: 0.9;
        transform: translateY(0);
    }
}

@keyframes sparkle {
    0%, 100% { filter: brightness(100%); }
    50% { filter: brightness(130%) drop-shadow(0 0 3px rgba(255, 215, 0, 0.7)); }
}

/* Hover Effects */
.hero:hover::before {
    animation-play-state: paused;
}

/* Media Queries */
@media (min-width: 1400px) {
    .hero {
        height: 50vh;
    }
}

@media (max-width: 768px) {
    .hero {
        height: 40vh;
        padding: 1rem;
    }

    .hero::before,
    .hero::after {
        background-size: 80px 80px;
    }
}

/* Interactive Elements */
.hero-cta {
    margin-top: 2rem;
    opacity: 0;
    animation: fadeIn 1s ease 0.6s forwards;
}

.hero-cta button {
    padding: 0.8em 2em;
    border: 2px solid white;
    background: transparent;
    color: white;
    font-weight: 600;
    border-radius: 30px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.hero-cta button:hover {
    background: white;
    color: var(--primary);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

/* Main Content Sections */
main {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem 20px;
}

.section {
    margin: 3rem 0;
    padding: 2rem;
    background: white;
    border-radius: 15px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

/* Crypto Table */
.crypto-table {
    width: 100%;
    border-collapse: collapse;
    margin: 2rem 0;
}

.crypto-table th,
.crypto-table td {
    padding: 1rem;
    text-align: left;
    border-bottom: 1px solid #eee;
}

.crypto-table th {
    background: var(--primary);
    color: white;
}

.crypto-table tr:hover {
    background: #f8f9fa;
}

/* Music Grid */
.music-controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
}

.music-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
}

.music-card {
    background: white;
    border-radius: 10px;
    overflow: hidden;
    transition: transform 0.3s ease;
}

.music-card:hover {
    transform: translateY(-5px);
}

.music-card img {
    width: 100%;
    height: 200px;
    object-fit: cover;
}

/* Calculator Sections */
.calculator {
    max-width: 600px;
    margin: 0 auto;
}

.calculator-input-group {
    margin-bottom: 1.5rem;
}

.calculator-input-group label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 500;
}

.calculator-select,
.calculator-input {
    width: 100%;
    padding: 0.8rem;
    border: 2px solid #ddd;
    border-radius: 8px;
    font-size: 1rem;
}

.calculator-actions {
    display: flex;
    gap: 1rem;
    margin: 1.5rem 0;
}

.calculate-btn,
.reset-btn {
    padding: 0.8rem 1.5rem;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
}

.calculate-btn {
    background: var(--accent);
    color: white;
    flex: 2;
}

.reset-btn {
    background: var(--warning);
    color: var(--primary);
    flex: 1;
}

/* Ad Spaces */
.ad-space,
.ad-container {
    width: 100%;
    min-height: 100px;
    background: #f8f9fa;
    margin: 2rem 0;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 8px;
}

/* Animations */
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.fade-in {
    animation: fadeIn 0.5s ease-out;
}

/* Loading Spinner */
.loading-spinner {
    width: 40px;
    height: 40px;
    border: 4px solid #f3f3f3;
    border-top: 4px solid var(--accent);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 2rem auto;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}
  /* Currency Converter Styles */
.converter-container {
    max-width: 600px;
    margin: 2rem auto;
    padding: 2rem;
    background: white;
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

.converter-input, .converter-output {
    display: flex;
    gap: 1rem;
    margin: 1rem 0;
}

.converter-input input, .converter-output input {
    flex: 2;
    padding: 1rem;
    border: 2px solid #eee;
    border-radius: 8px;
    font-size: 1.1rem;
}

.converter-input select, .converter-output select {
    flex: 1;
    padding: 1rem;
    border: 2px solid #eee;
    border-radius: 8px;
    cursor: pointer;
}

#switchCurrency {
    display: block;
    margin: 1rem auto;
    padding: 0.5rem 1rem;
    border: none;
    background: transparent;
    font-size: 1.5rem;
    cursor: pointer;
}

.convert-btn {
    width: 100%;
    padding: 1rem;
    background: var(--accent);
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 1.1rem;
    cursor: pointer;
    transition: all 0.3s ease;
}

/* Live Sports Styles */
.sports-container {
    background: white;
    border-radius: 12px;
    padding: 2rem;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

.sports-filters {
    display: flex;
    gap: 1rem;
    margin-bottom: 2rem;
}

.sports-filters select {
    padding: 0.8rem;
    border: 2px solid #eee;
    border-radius: 8px;
    cursor: pointer;
}

.live-scores {
    display: grid;
    gap: 1rem;
}

.score-card {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem;
    background: #f8f9fa;
    border-radius: 8px;
    border-left: 4px solid var(--accent);
}

.team-info {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.score {
    font-size: 1.5rem;
    font-weight: bold;
}

.match-status {
    padding: 0.3rem 0.8rem;
    background: var(--success);
    color: white;
    border-radius: 20px;
    font-size: 0.9rem;
}
/* Responsive Feature Sections */
.converter-container, .sports-container {
    max-width: min(90%, 600px);
    margin: 2rem auto;
    padding: clamp(1rem, 3vw, 2rem);
    background: white;
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

.converter-input, .converter-output {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin: 1rem 0;
}

.converter-input input,
.converter-output input {
    flex: 1 1 150px;
    min-width: 150px;
    padding: 0.8rem;
    border: 2px solid #eee;
    border-radius: 8px;
    font-size: 1rem;
}

.converter-input select,
.converter-output select {
    flex: 0 1 100px;
    padding: 0.8rem;
    border: 2px solid #eee;
    border-radius: 8px;
}

/* Sports Section Responsive */
.sports-filters {
    display: flex;
    flex-wrap: wrap;
    gap: 0.8rem;
    margin-bottom: 1.5rem;
}

.score-card {
    padding: clamp(0.8rem, 2vw, 1.2rem);
    display: grid;
    grid-template-columns: 1fr auto;
    gap: 1rem;
}

.team-info {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
    align-items: center;
    text-align: center;
}

@media (max-width: 480px) {
    .team-info {
        font-size: 0.9rem;
    }

    .score {
        font-size: 1.2rem;
    }
}
 .predictions-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 1rem;
}

.prediction-filters {
    display: flex;
    gap: 1rem;
    margin-bottom: 2rem;
    flex-wrap: wrap;
}

.prediction-filters select {
    padding: 0.8rem;
    border-radius: 8px;
    border: 2px solid #eee;
    flex: 1;
    min-width: 200px;
}

.predictions-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin-bottom: 3rem;
}

.prediction-card {
    background: white;
    border-radius: 12px;
    padding: 1.5rem;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    transition: transform 0.3s ease;
}

.prediction-card:hover {
    transform: translateY(-5px);
}

.prediction-header {
    display: flex;
    justify-content: space-between;
    margin-bottom: 1rem;
}

.confidence-indicator {
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-size: 0.9rem;
    font-weight: 600;
}

.confidence-high {
    background: #4CAF50;
    color: white;
}

.confidence-medium {
    background: #FFC107;
    color: black;
}

.confidence-value {
    background: #2196F3;
    color: white;
}

.prediction-stats {
    display: grid;
    gap: 0.8rem;
    margin: 1rem 0;
}

.stat-row {
    display: flex;
    justify-content: space-between;
    padding: 0.5rem;
    background: #f8f9fa;
    border-radius: 6px;
}

.social-trading {
    background: white;
    border-radius: 12px;
    padding: 2rem;
    margin-top: 2rem;
}

.traders-list {
    display: grid;
    gap: 1rem;
    margin-top: 1rem;
}

.trader-card {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    background: #f8f9fa;
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.3s ease;
}

.trader-card:hover {
    background: #e9ecef;
}

.trader-stats {
    margin-left: auto;
    text-align: right;
}

@media (max-width: 768px) {
    .prediction-filters select {
        width: 100%;
    }

    .predictions-grid {
        grid-template-columns: 1fr;
    }
}

/* Responsive Design */
@media (max-width: 768px) {
    .nav {
        flex-direction: column;
        height: auto;
        padding: 1rem;
    }

    .nav-links {
        margin-top: 1rem;
        gap: 1rem;
    }

    .hero {
        height: 50vh;
        margin-top: 100px;
    }

    .hero h1 {
        font-size: 2rem;
    }

    .section {
        padding: 1rem;
    }

    .crypto-table {
        font-size: 0.9rem;
    }

    .calculator-actions {
        flex-direction: column;
    }

    .calculate-btn,
    .reset-btn {
        width: 100%;
    }
}

@media (max-width: 480px) {
    .hero h1 {
        font-size: 1.5rem;
    }

    .hero p {
        font-size: 1rem;
    }

    .music-grid {
        grid-template-columns: 1fr;
    }

    .section {
        margin: 1rem 0;
    }
}

    </style>
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="logo">Crypto & Music Hub</div>
            <div class="nav-links">
                <a href="#crypto">Crypto</a>
                <a href="#music">Music</a>
                <a href="#calculator">Calculator</a>
            </div>
        </nav>
    </header>

    <section class="hero">
    <div class="hero-content">
        <h1><span class="highlight">Track</span> Crypto & Music <span class="highlight">Trends</span></h1>
        <p>Your one-stop platform for <span class="accent">cryptocurrency</span> prices and <span class="accent">music</span> charts</p>
        <div class="hero-cta">
         <a href="#calculator" class="explore-btn">Explore Now</a>
        </div>
    </div>
    <div class="hero-shapes">
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
        <div class="shape shape-3"></div>
    </div>
</section>

    <main>
        <section id="crypto" class="section">
            <h2>Cryptocurrency Prices</h2>
            <div class="ad-space">Advertisement Space</div>
            <table class="crypto-table" id="cryptoTable">
                <thead>
                    <tr>
                        <th>Coin</th>
                        <th>Price</th>
                        <th>24h Change</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </section>

        <section id="music" class="section">
    <h2>Top Music Charts</h2>
    <div class="ad-space">Advertisement Space</div>
    <div class="music-controls">
        <button id="refreshMusic" class="refresh-btn">Refresh Charts</button>
        <span id="lastUpdate" class="update-time"></span>
    </div>
    <div class="music-grid" id="musicGrid">
        <div class="loading-spinner"></div>
    </div>
</section>

<section id="calculator" class="section">
    <h2>Creator Earnings Calculator</h2>
    <div class="calculator">
        <div class="calculator-input-group">
            <label for="platform">Select Platform</label>
            <select id="platform" class="calculator-select">
                <option value="tiktok">TikTok</option>
                <option value="youtube">YouTube</option>
                <option value="instagram">Instagram</option>
            </select>
        </div>

        <div class="calculator-input-group">
            <label for="views">View Count</label>
            <input type="number"
                   id="views"
                   class="calculator-input"
                   placeholder="Enter number of views"
                   min="0"
                   step="1000">
        </div>

        <div class="calculator-actions">
            <button id="calculateBtn" class="calculate-btn">Calculate Earnings</button>
            <button id="resetBtn" class="reset-btn">Reset</button>
        </div>

        <div id="result" class="calculator-result fade-in">
            <div class="earnings-display"></div>
            <div class="conversion-rates"></div>
            <div class="earnings-breakdown"></div>
        </div>
    </div>
</section>

    </main>
    <section id="streaming-calculator" class="section">
    <h2>Music Streaming Earnings Calculator</h2>
    <div class="calculator streaming-calculator">
        <div class="calculator-input-group">
            <label for="streamPlatform">Streaming Platform</label>
            <select id="streamPlatform" class="calculator-select">
                <option value="spotify">Spotify</option>
                <option value="apple">Apple Music</option>
                <option value="youtube-music">YouTube Music</option>
                <option value="amazon">Amazon Music</option>
                <option value="tidal">Tidal</option>
                <option value="deezer">Deezer</option>
            </select>
        </div>

        <div class="calculator-input-group">
            <label for="streams">Number of Streams</label>
            <input type="number"
                   id="streams"
                   class="calculator-input"
                   placeholder="Enter number of streams"
                   min="0"
                   step="1000">
        </div>

        <div class="calculator-actions">
            <button id="calculateStreamBtn" class="calculate-btn">Calculate Streaming Revenue</button>
            <button id="resetStreamBtn" class="reset-btn">Reset</button>
        </div>

        <div id="streamResult" class="calculator-result fade-in"></div>
    </div>
</section>
   <!-- Add this after your existing sections -->
<section id="currency" class="section">
    <h2>Currency Converter</h2>
    <div class="converter-container">
        <div class="converter-input">
            <input type="number" id="amount" placeholder="Enter amount">
            <select id="fromCurrency">
                <option value="USD">USD</option>
                <option value="EUR">EUR</option>
                <option value="GBP">GBP</option>
                <option value="JPY">JPY</option>
                <option value="NGN">NGN</option>
            </select>
        </div>
        <button id="switchCurrency">↔️</button>
        <div class="converter-output">
            <input type="number" id="result" readonly>
            <select id="toCurrency">
                <option value="EUR">EUR</option>
                <option value="USD">USD</option>
                <option value="GBP">GBP</option>
                <option value="JPY">JPY</option>
                <option value="NGN">NGN</option>
            </select>
        </div>
        <button id="convertBtn" class="convert-btn">Convert</button>
    </div>
</section>

<section id="sports" class="section">
    <h2>Live Sports Scores</h2>
    <div class="sports-container">
        <div class="sports-filters">
            <select id="sportType">
                <option value="soccer">Soccer</option>
                <option value="basketball">Basketball</option>
                <option value="tennis">Tennis</option>
            </select>
            <button id="refreshScores" class="refresh-btn">🔄 Refresh</button>
        </div>
        <div class="live-scores" id="liveScores">
            <!-- Scores will be populated dynamically -->
        </div>
    </div>
</section>
   <!-- Add this new section -->
<section id="predictions" class="section">
    <h2>Smart Sports Predictions</h2>

    <div class="predictions-container">
        <!-- Category Selector -->
        <div class="prediction-filters">
            <select id="predictionType">
                <option value="over_under">Over/Under</option>
                <option value="goals">Goals Range</option>
                <option value="halftime">Half-Time Result</option>
                <option value="bookings">Cards & Bookings</option>
                <option value="corners">Corner Markets</option>
                <option value="player">Player Performance</option>
                <option value="special">Special Markets</option>
                <option value="home_goals">Home Team Goals</option>
                <option value="away_goals">Away Team Goals</option>
            </select>

            <select id="confidence">
                <option value="high">High Confidence</option>
                <option value="medium">Medium Risk</option>
                <option value="value">Value Bets</option>
            </select>
        </div>

        <!-- AI Predictions Display -->
        <div class="predictions-grid" id="predictionsGrid"></div>

        <!-- Social Trading Section -->
        <div class="social-trading">
            <h3>Top Traders & Tipsters</h3>
            <div class="traders-list" id="tradersList"></div>
        </div>
    </div>
</section>

     <!-- Ad placement -->
<div class="ad-container">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1234567890"></script>
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-1234567890"
         data-ad-slot="1234567890"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>

    <script>
   // API Configuration
const API_CONFIG = {
    endpoints: {
        crypto: 'https://api.coincap.io/v2/assets',
        exchange: 'https://open.er-api.com/v6/latest/USD',
        music: 'https://api.deezer.com/chart/0/tracks',
        sports: 'https://www.scorebat.com/video-api/v3/feed',
        odds: 'https://odds.data.api.sportradar.us/sample/feed'
    },
    websocket: {
        crypto: 'wss://ws.coincap.io/prices?assets=bitcoin,ethereum,dogecoin',
        sports: 'wss://ws.scorebat.com/socket'
    },
    params: {
        crypto: '?limit=10',
        music: '?limit=6'
    },
    cache: {
        duration: 10000,
        data: new Map()
    }
};

const PLATFORM_RATES = {
    youtube: { viewRate: 0.00188, subscriberRate: 4.00, multiplier: 1.2 },
    tiktok: { viewRate: 0.00073, followerRate: 2.00, multiplier: 1.5 },
    instagram: { viewRate: 0.02, followerRate: 3.00, multiplier: 1.3 }
};

const STREAMING_RATES = {
    spotify: { rate: 0.00437, name: 'Spotify', color: '#1DB954' },
    apple: { rate: 0.00735, name: 'Apple Music', color: '#FC3C44' },
    'youtube-music': { rate: 0.00676, name: 'YouTube Music', color: '#FF0000' },
    amazon: { rate: 0.00402, name: 'Amazon Music', color: '#00A8E1' },
    tidal: { rate: 0.00876, name: 'Tidal', color: '#000000' },
    deezer: { rate: 0.00562, name: 'Deezer', color: '#00C7F2' }
};

const AVAILABLE_CURRENCIES = {
    USD: { symbol: '$', name: 'US Dollar' },
    EUR: { symbol: '€', name: 'Euro' },
    GBP: { symbol: '£', name: 'British Pound' },
    JPY: { symbol: '¥', name: 'Japanese Yen' },
    NGN: { symbol: '₦', name: 'Nigerian Naira' }
};

const PREDICTION_CONFIG = {
    confidence: {
        high: 0.75,
        medium: 0.5,
        low: 0.25
    },
    factors: {
        recentForm: 0.3,
        headToHead: 0.3,
        currentForm: 0.25,
        injuries: 0.15
    }
};

class CryptoHub {
    constructor() {
        this.state = {
            crypto: [],
            exchange: {},
            music: [],
            sports: [],
            predictions: new Map(),
            lastUpdate: null,
            selectedCurrencies: ['USD', 'EUR', 'GBP', 'NGN']
        };
        this.init();
    }

    async init() {
        this.initializeCache();
        this.initializeSockets();
        this.initializeCurrencySelector();
        await this.loadAllData();
        this.setupEventListeners();
        this.startAutoRefresh();
    }

    initializeCache() {
        if ('caches' in window) {
            caches.open('crypto-hub-cache').then(cache => {
                this.cache = cache;
            });
        }
    }

    initializeSockets() {
        this.cryptoWs = new WebSocket(API_CONFIG.websocket.crypto);
        this.cryptoWs.onmessage = (msg) => {
            const data = JSON.parse(msg.data);
            this.updateCryptoPrices(data);
        };

        this.sportsWs = new WebSocket(API_CONFIG.websocket.sports);
        this.sportsWs.onmessage = (msg) => {
            const data = JSON.parse(msg.data);
            this.updateSportsData(data);
        };
    }

    initializeCurrencySelector() {
        const selector = document.getElementById('currencySelector');
        if (selector) {
            selector.innerHTML = Object.entries(AVAILABLE_CURRENCIES)
                .map(([code, currency]) =>
                    `<option value="${code}">${currency.name} (${currency.symbol})</option>`)
                .join('');
        }
    }

    async fetchWithCache(endpoint, params = '') {
        const url = endpoint + params;
        const cacheKey = `${url}_${Date.now()}`;

        try {
            const response = await fetch(url);
            const data = await response.json();
            return data;
        } catch (error) {
            console.warn(`Fetch failed for ${url}:`, error);
            return null;
        }
    }

    async loadAllData() {
        try {
            const [cryptoData, exchangeData, musicData, sportsData] = await Promise.all([
                this.fetchWithCache(API_CONFIG.endpoints.crypto + API_CONFIG.params.crypto),
                this.fetchWithCache(API_CONFIG.endpoints.exchange),
                this.fetchWithCache(API_CONFIG.endpoints.music + API_CONFIG.params.music),
                this.fetchWithCache(API_CONFIG.endpoints.sports)
            ]);

            this.updateState(cryptoData, exchangeData, musicData, sportsData);
            this.renderAll();
        } catch (error) {
            console.warn('Error loading data:', error);
            this.loadFallbackData();
        }
    }

    updateState(cryptoData, exchangeData, musicData, sportsData) {
        this.state = {
            ...this.state,
            crypto: cryptoData?.data || [],
            exchange: exchangeData?.rates || {},
            music: musicData?.tracks?.data || [],
            sports: sportsData?.response || [],
            lastUpdate: new Date()
        };
    }

    renderAll() {
        requestAnimationFrame(() => {
            this.renderCryptoTable();
            this.renderMusicGrid();
            this.renderSportsData();
            this.renderPredictions();
            this.updateLastRefreshTime();
        });
    }

    renderCryptoTable() {
        const tbody = document.querySelector('#cryptoTable tbody');
        if (!tbody) return;

        tbody.innerHTML = this.state.crypto.map(coin => `
            <tr class="fade-in">
                <td>${coin.name} (${coin.symbol})</td>
                <td>$${Number(coin.priceUsd).toFixed(2)}</td>
                <td class="${Number(coin.changePercent24Hr) > 0 ? 'positive' : 'negative'}">
                    ${Number(coin.changePercent24Hr).toFixed(2)}%
                </td>
            </tr>
        `).join('');
    }

    renderMusicGrid() {
        const grid = document.getElementById('musicGrid');
        if (!grid) return;

        grid.innerHTML = this.state.music.map(track => `
            <div class="music-card fade-in">
                <img loading="lazy" src="${track.album.cover_medium}" alt="${track.title}">
                <h3>${track.title}</h3>
                <p>${track.artist.name}</p>
                <div class="track-stats">
                    <span>Rank: #${track.position}</span>
                    <span>Duration: ${Math.floor(track.duration/60)}:${(track.duration % 60).toString().padStart(2, '0')}</span>
                </div>
            </div>
        `).join('');
    }

    renderSportsData() {
        const container = document.getElementById('liveScores');
        if (!container) return;

        container.innerHTML = this.state.sports.map(match => `
            <div class="score-card">
                <div class="team-info">
                    <span>${match.home}</span>
                    <span class="score">${match.score || '0-0'}</span>
                    <span>${match.away}</span>
                </div>
                <span class="match-status">${match.status}</span>
            </div>
        `).join('');
    }

    calculateEarnings() {
        const platform = document.getElementById('platform').value;
        const views = parseInt(document.getElementById('views').value) || 0;
        const rates = PLATFORM_RATES[platform];
        const earnings = views * rates.viewRate * rates.multiplier;

        document.getElementById('result').innerHTML = `
            <div class="earnings-card">
                <h3>Estimated Earnings</h3>
                <div class="amount">$${earnings.toFixed(2)}</div>
                <div class="converted-amounts">
                    ${this.renderCurrencyConversions(earnings)}
                </div>
            </div>
        `;
    }

    calculateStreamingEarnings() {
        const platform = document.getElementById('streamPlatform').value;
        const streams = parseInt(document.getElementById('streams').value) || 0;
        const rate = STREAMING_RATES[platform].rate;
        const earnings = streams * rate;

        document.getElementById('streamResult').innerHTML = `
            <div class="streaming-earnings-card">
                <h3>${STREAMING_RATES[platform].name} Revenue</h3>
                <div class="amount">$${earnings.toFixed(2)}</div>
                <div class="converted-amounts">
                    ${this.renderCurrencyConversions(earnings)}
                </div>
            </div>
        `;
    }

    renderCurrencyConversions(amount) {
        return this.state.selectedCurrencies.map(code => {
            const rate = this.state.exchange[code] || 1;
            const converted = amount * rate;
            const currency = AVAILABLE_CURRENCIES[code];
            return `
                <div class="currency-conversion">
                    <span>${currency.symbol}${converted.toFixed(2)} ${code}</span>
                </div>
            `;
        }).join('');
    }

    generatePrediction(match) {
        const confidence = Math.random();
        return {
            match: match.title,
            prediction: confidence > 0.7 ? 'Strong Buy' : 'Hold',
            confidence: (confidence * 100).toFixed(2),
            odds: (1 + confidence).toFixed(2)
        };
    }

    renderPredictions() {
        const grid = document.getElementById('predictionsGrid');
        if (!grid) return;

        const predictions = this.state.sports.map(match => this.generatePrediction(match));

        grid.innerHTML = predictions.map(pred => `
            <div class="prediction-card">
                <div class="prediction-header">
                    <h3>${pred.match}</h3>
                    <span class="confidence-badge">${pred.confidence}%</span>
                </div>
                <div class="prediction-details">
                    <p>Prediction: ${pred.prediction}</p>
                    <p>Odds: ${pred.odds}</p>
                </div>
            </div>
        `).join('');
    }

    updateLastRefreshTime() {
        const element = document.getElementById('lastUpdate');
        if (element && this.state.lastUpdate) {
            element.textContent = `Last updated: ${this.state.lastUpdate.toLocaleTimeString()}`;
        }
    }

    loadFallbackData() {
        this.state = {
            ...this.state,
            crypto: [
                { name: 'Bitcoin', symbol: 'BTC', priceUsd: '45000', changePercent24Hr: '2.5' },
                { name: 'Ethereum', symbol: 'ETH', priceUsd: '3000', changePercent24Hr: '1.8' }
            ],
            exchange: { EUR: 0.85, GBP: 0.73, NGN: 411 },
            music: [],
            sports: [],
            lastUpdate: new Date()
        };
        this.renderAll();
    }

    setupEventListeners() {
        document.getElementById('calculateBtn')?.addEventListener('click',
            () => this.calculateEarnings());
        document.getElementById('calculateStreamBtn')?.addEventListener('click',
            () => this.calculateStreamingEarnings());
        document.getElementById('refreshBtn')?.addEventListener('click',
            () => this.loadAllData());
        document.getElementById('predictionType')?.addEventListener('change',
            (e) => this.updatePredictions(e.target.value));
    }

    startAutoRefresh() {
        setInterval(() => this.loadAllData(), API_CONFIG.cache.duration);
    }
}

// Initialize Application
document.addEventListener('DOMContentLoaded', () => {
    window.app = new CryptoHub();
});

   </script>
</body>
</html>
