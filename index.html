<!DOCTYPE html>
<html>
<head>
  <title>Buy Coins</title>
  <script src="https://checkout.flutterwave.com/v3.js"></script>
</head>
<body>
  <h2>Buy Talent Coins</h2>
  <label for="amount">Select amount:</label>
  <select id="amount">
    <option value="50">10 Coins - ₦50</option>
    <option value="300">20 Coins - ₦300</option>
    <option value="750">50 Coins - ₦750</option>
  </select>
  <br><br>
  <button onclick="makePayment()">Buy Now</button>

  <script>
    function makePayment() {
      const amount = document.getElementById('amount').value;
      const coins = parseInt(amount) / 15; // 1 coin = ₦15
      const txRef = "TALENTCOIN-" + Date.now();

      FlutterwaveCheckout({
        public_key: "FLWPUBK-d3902fdb2f80f41ada9c077eb569466a-X",
        tx_ref: txRef,
        amount: amount,
        currency: "NGN",
        payment_options: "card,ussd,banktransfer",
        customer: {
          email: "user@email.com",  // can be dynamic
          phonenumber: "08000000000",
          name: "Talent Coin Buyer"
        },
        redirect_url: "https://huss-view.vercel.app ?coins=" + coins,
        customizations: {
          title: "Talent Coin Purchase",
          description: `Buying ${coins} coins`,
          logo: "https://yourdomain.com/logo.png"
        }
      });
    }
  </script>
</body>
</html>
